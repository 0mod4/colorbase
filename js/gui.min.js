!function(n){n.fn.initGUI=function(){function e(){var n=viewport.center_y-c.container_height/2;c.container.css({top:n+"px"})}function t(){c.toggle.click(function(){c.container.toggleClass("toggled")})}function i(){var n=f.query_input.caret("offset"),e=n.left-f.marker.width();f.marker.css({left:e+"px"})}function o(){f.query_input.focus()}function r(e){e=n(e),e.addClass("glow");var t=window.setInterval(function(){e.removeClass("glow"),clearInterval(t)},250)}function u(){f.self.submit(function(n){r(f.query_input),n.preventDefault()})}var f=[],c=[];f.container=n("div.inputform"),f.self=f.container.find('form[name="form"]'),f.query_input=n("#queryText"),f.marker=f.self.find(".marker"),c.container=n("div.optionform"),c.container_height=n("div.optionform").height(),c.self=c.container.find('form[name="options"]'),c.toggle=c.container.find(".toggle"),f.query_input.on("focus",function(){f.marker.show()}),f.query_input.on("blur",function(){f.marker.hide()}),e(),t(),o(),i(),u(),f.query_input.on("input click keydown keyup",function(){i()})}}(jQuery),console.log("gui module initialized");